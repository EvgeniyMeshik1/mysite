{"remainingRequest":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\Works\\qwsain_dev\\qwsain_dev\\src\\components\\signup\\Signup.vue?vue&type=style&index=0&id=8d95f2a2&lang=scss&scoped=true","dependencies":[{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\src\\components\\signup\\Signup.vue","mtime":1668386202283},{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\css-loader\\dist\\cjs.js","mtime":1668329591352},{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1668329633615},{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\postcss-loader\\src\\index.js","mtime":1668329606285},{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1668329581075},{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668329581239},{"path":"E:\\Works\\qwsain_dev\\qwsain_dev\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668329613896}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLmVycm9yLWZlZWRiYWNrew0KICAgICAgICBjb2xvcjpyZWQ7DQogICAgICAgIGZvbnQtc2l6ZTogMC45NWVtOw0KICAgIH0NCg0K"},{"version":3,"sources":["E:\\Works\\qwsain_dev\\qwsain_dev\\src\\components\\signup\\Signup.vue"],"names":[],"mappings":";IAqII,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB","file":"E:/Works/qwsain_dev/qwsain_dev/src/components/signup/Signup.vue","sourceRoot":"","sourcesContent":["<template>\r\n   \r\n \r\n  <form @click.prevent>\r\n        \r\n        <h1>تسجيل مستخدم جديد </h1>  \r\n         <br/>\r\n     <div class=\"row g-3 aling-items-center\">\r\n        <div class=\"col-auto d-block mx-auto\">\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"ادخل اسمك\" v-model=\"name\">\r\n            <span class=\"error-feedback\" v-if=\"v$.name.$error\"> الاسم مطلوب</span>\r\n        </div>\r\n    </div>\r\n     <br/>\r\n    <div class=\"row g-3 aling-items-center\">\r\n        <div class=\"col-auto d-block mx-auto\">\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"ادخل بريدك الالكتروني\" v-model=\"email\">\r\n            <span class=\"error-feedback\" v-if=\"v$.email.$error\"> البريد الالكتروني مطلوب</span>\r\n        </div>\r\n    </div>\r\n    <br/>\r\n    <div class=\"row g-3 aling-items-center\">\r\n        \r\n        <div class=\"col-auto d-block mx-auto\">\r\n            <input type=\"password\" class=\"form-control\" placeholder=\"ادخل كلمة مرور\" v-model=\"pass\">\r\n            <span class=\"error-feedback\" v-if=\"v$.pass.$error\"> كلمة المرور مطلوبة</span>\r\n        </div>\r\n    </div>\r\n    <br/>\r\n        <div class=\"row g-3 aling-items-center\">\r\n        \r\n        <div class=\"col-auto d-block mx-auto\">\r\n             \r\n            <button type=\"submit\" @click=\"signUpF()\" class=\"btn btn-secondary\">تسجيل  </button>  \r\n             \r\n        </div>\r\n    </div>\r\n        \r\n    <br/>\r\n  </form>\r\n     \r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {mapActions} from \"vuex\";\r\nimport useValidate from \"@vuelidate/core\";\r\nimport {required , email , minLength} from \"@vuelidate/validators\";\r\n \r\n\r\nexport default {\r\n    name:\"Signup\",\r\n    components:{\r\n        \r\n    },\r\n  \r\n    data(){\r\n        return{\r\n        v$:useValidate(),\r\n        name:\"\",\r\n        pass:\"\",\r\n        email:\"\"\r\n\r\n        }\r\n        \r\n    },\r\n    validations()\r\n    {\r\n        return{\r\n            name:{required , minLength:minLength(3)},\r\n            pass:{required},\r\n            email:{required , email}\r\n        }\r\n    },\r\n    mounted(){\r\n        this.email=this.$route.params.email;\r\n\r\n        console.log('we are here 4');\r\n        let user =localStorage.getItem('user-info');\r\n        if(user){\r\n             this.userName = JSON.parse(user).user_name;\r\n      this.name = JSON.parse(user).name;\r\n             \r\n        }\r\n\r\n         if(this.name==\"غير مسجل\")\r\n        {\r\n            this.redirectTo({val:\"Home\"});\r\n        }\r\n    },\r\n    methods:{\r\n        ...mapActions(['redirectTo']),\r\n      //  LoginPage(){\r\n         //   this.$router.push({name:\"Login\"});\r\n       // }\r\n\r\n       async signUpF(){\r\n           console.log(\"Sing up now\");\r\n           this.v$.$validate();\r\n           if(!this.v$.$error){\r\n               console.log(\"from validated successfully\");\r\n               let result = await axios.post('https://my-app-2-vfjnn.ondigitalocean.app/api/adduserinfo' ,{\r\n                   name:this.name,\r\n                   userName:'ahmed',\r\n                   email:this.email,\r\n                   password:this.pass\r\n               } );\r\n               if(result.status == 200){\r\n                   console.log(\"add new user scuucessfully\");\r\n\r\n                   //save user data in local storage in browser\r\n                  // localStorage.setItem(\"user-info\" , JSON.stringify({name:'d' , pass:'dd'}));\r\n                  // localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\r\n                  // console.log(JSON.stringify(result.data));\r\n\r\n                   this.redirectTo({val:\"Home\"});\r\n               }\r\n               else{\r\n                   console.log('error on added new user');\r\n               }\r\n           }else{\r\n               console.log(\"Form Validate Failed\");\r\n           }\r\n       }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"scss\" scoped >\r\n    .error-feedback{\r\n        color:red;\r\n        font-size: 0.95em;\r\n    }\r\n\r\n</style>"]}]}